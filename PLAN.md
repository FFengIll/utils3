
# 任务中断恢复方式
保留已完成的任务，已生成的数据
但允许程序被掐断
并在掐断后，重启时能从已保留的内容开始（而不会重复进行已完成的内容）

# 价值
如何解决问题？
- 小工具，如果考虑过多的细节，影响效率
- 但如果不做`快照`类似的功能，时间和精力会受损
成本？
- 预期开发成本不高，因为以文件为中转处理比较轻松，也尝试过一些碎片代码来实现
效用？
- 对我个人而言，许多时候需要处理这类问题，重复执行费时费力，想要快照、缓存、恢复就需要每次根据情况加代码

# 场景
- 输入是（大量的）`唯一的`
- 输出是`复杂的`
  - 但输出是可以`序列化的`
- 输入到输出的过程是`高耗费`的（时间消耗，cpu消耗）
- 过程不是完备的，`可中断的`（可能由不可控因素掐断，如网络波动）
- 代码是`抛弃型`的，希望快速实现，快速完成输入输出，快速废弃。

期望，已有的输出能被持久化，程序再次执行，已有的输出不必重新处理（生成）。
减省过程的耗费。


# Challenge
需要解决~~两个~~几个问题：
- 如何组织key以识别任务？
  - 需要指定、构造key
- 如何保留生成数据？
  - 按任务分别存储
  - 整体考量，kv文件数据库是可行的。
- 如何识别任务点？
  - 回调
  - 修饰器
  - 注入
- 如何识别数据点？
- 如何pythonic
  - 目标是python？
  - `with`特性
- 如何响应异常、信号等内容，并及时保存数据？
  - 需要enter，exit，并截获必要的中断
  - 是否容忍中断（理论上没法做）
- 如何组织快照？
  - 指定文件夹，存放快照信息